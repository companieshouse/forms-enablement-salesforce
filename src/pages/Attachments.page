<apex:page cache="false" title="Supporting Documentation" showHeader="false" sidebar="false" standardStylesheets="false" controller="AddAttachmentsController" action="{!goForward}" applyHtmlTag="false" docType="html-5.0">
    <apex:composition template="TransactionPageTemplate">
        <apex:define name="content">
            <apex:form enctype="multipart/form-data">
            <apex:outputPanel id="masterPanel">
                <apex:outputPanel rendered="{!hasPageErrors}">
                    <div class="error-summary" role="group" aria-labelledby="error-summary-heading-example-1" tabindex="-1">
                            <h1 class="heading-medium error-summary-heading" id="error-summary-heading-example-1">
                                An error has occurred.
                            </h1>
                            <ul class="error-summary-list">
                                <li>
                                    <a>{!currentErrorMessage}</a>
                                </li>
                            </ul>
                        </div>
                </apex:outputPanel>
                <h1 class="heading-xlarge">
                    Additional documents
                </h1>
                <p class="lede">
                    You need to file additional documents before the company’s capital can be reduced. If these documents have already been filed, there is no need to file them again.
                </p>
                <h1 class="heading-xlarge">
                </h1>
                <apex:outputPanel id="prototypeAttachments">
                    <style>
                    .dontshowButton {
                        display: none;
                    }
                    
                    a.showHands {
                        cursor: pointer;
                        cursor: hand;
                    }
                    
                    a:hover {
                        color: ;
                    }
                    
                    a:hover {
                        color: #2e8aca;
                    }
                    
                    a:active {
                        color: #2e8aca;
                    }
                    
                    a:link {
                        color: #005ea5;
                    }
                    
                    a:visited {
                        color: #2e8aca;
                    }
                    </style>
                    <div class="govuk-form-group {!errorVal}">
                        <span class='error-message'>{!currentErrorMessage}</span>
                        <table>
                            <thead>
                                <tr>
                                    <th scope="col" class="doc-name">Document name</th>
                                    <th scope="col">Status</th>
                                    <th scope="col"></th>
                                </tr>
                            </thead>
                            <tbody id='attachmentBody'>
                                <tr>
                                    <td>{!docName}</td>
                                    <td>{!docStatus1}</td>
                                    <td>
                                        <a class='showHands' href='#' onclick='addDoc("a")'>Add document</a>

                                        <apex:inputFile onchange="update1(this.value)" styleclass="dontshowButton" accept="application/pdf"  id="file1input" value="{!file1}" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>{!docName2}</td>
                                    <td>{!docStatus2}</td>
                                    <td>
                                        <a class='showHands' href='#' onclick='addDoc("b")'>Add document</a>

                                        <apex:inputFile onchange="update2(this.value)" styleclass="dontshowButton" accept="application/pdf"  id="file2input" value="{!file2}" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <apex:actionFunction action="{!upload1}" status="status"  name="add1">
                            <apex:param name="file1value" value="abcm" id="file1action" assignTo="{!file1}" />
                        </apex:actionFunction>
                        <apex:actionFunction action="{!upload2}" status="status"  name="add2">
                            <apex:param name="file2value" value="xyzd" id="file2action" assignTo="{!file2}" />
                        </apex:actionFunction>
                    </div>
                    <script>
                    function addDoc(x) {
                        console.log(x);
                        if (x == "a") {
                            var a = document.getElementById('{!$Component.file1input}');
                            a.click();

                        } else if (x == "b") {
                            var b = document.getElementById('{!$Component.file2input}');
                            b.click();
                        }
                    }

                    function update1(x) {
                        console.log('function called 1' + x);
                        add1(x);
                    }

                    function update2(y) {
                        console.log('function called 2' + y);
                        add2(y);
                    }
                    </script>
                </apex:outputPanel>
                <div class="govuk-form-group">
                    <apex:outputPanel id="SH19Panel" rendered="{!formType == 'SH19'}">
                        <p>You must also file a directors’ statement of compliance within 15 days of the date of the resolution. You must file this document on paper.</p>
                    </apex:outputPanel>
                    <p>If you wish to use the same-day service, we will need all these documents.</p>
                </div>
                <apex:actionregion >

                <apex:commandButton styleClass="govuk-button" action="{!nextAction}" value="Continue" rendered="{!NOT(isLastPage)}" />
                </apex:actionregion>
                <br />
                <br/>&nbsp;
                <!-- <apex:commandLink action="{!previousAction}" value="Previous" id="thePreviousButton" /> &nbsp; -->
                </apex:outputPanel>
            </apex:form>
        </apex:define>
    </apex:composition>
</apex:page>