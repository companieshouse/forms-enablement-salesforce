<apex:page cache="false" title="Review you application" controller="ReviewController" docType="html-5.0" showHeader="false" sidebar="false" action="{!startReviewProcesses}" standardStylesheets="false" applyHtmlTag="false" applyBodyTag="false">
    <apex:composition template="TransactionPageTemplate">
        <apex:define name="content3">
            <apex:form id="form2">
                <apex:commandLink action="{!resetTransaction}" value="{!$Label.UI_Text_Previous}" id="thePreviousButtonSingleOfficer" styleClass="govuk-back-link"
                />
            </apex:form>
        </apex:define>
        <apex:define name="content">
            <apex:form >
                <apex:outputPanel id="masterPanel">
                    <apex:outputPanel id="masterHeader" rendered="{!showMasterHeader}">
                        <h1 class="govuk-heading-xl">Review your application</h1>
                        <p class="govuk-body-l">
                            Please confirm that the information you've provided us for {!companyName} is correct
                        </p>
                    </apex:outputPanel>
                    <apex:outputPanel rendered="{!hasPageErrors}">
                        <div class="govuk-error-summary" role="alert" aria-labelledby="error-summary-heading-example-1" tabindex="-1">
                            <h1 class="govuk-error-summary__title" id="error-summary-heading-example-1">
                                An error has occurred.
                            </h1>
                            <p>
                            </p>
                            <div class="govuk-error-summary__body">
                                <ul class="govuk-list govuk-error-summary__list">
                                    <li>
                                        <a class="govuk-link" href="#">{!currentErrorMessage}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel id="standardPanel" rendered="{!standardPanelView}">
                        <h1 class="govuk-heading-xl">
                            {!headerText1}
                        </h1>
                        <p class="govuk-body-l">{!displayText1}
                        </p>
                        <table class="govuk-table">
                            <thead class="govuk-table__head">
                                <tr class="govuk-table__row">
                                    <th class="govuk-table__header" colspan="3">
                                        <h2 class="govuk-heading-m">Request details</h2>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="govuk-table__body">
                                <tr class="govuk-table__row">
                                    <td class="govuk-table__header" scope="row">Company name</td>
                                    <td class="govuk-table__cell ">{!companyName}</td>
                                </tr>
                                <tr class="govuk-table__row">
                                    <td class="govuk-table__header" scope="row">Company number</td>
                                    <td class="govuk-table__cell ">{!companyNumber}</td>
                                </tr>
                                <tr class="govuk-table__row">
                                    <td class="govuk-table__header" scope="row">Registered Office Address</td>
                                    <td class="govuk-table__cell ">
                                        <apex:outputText escape="false" value="{!companyAddress}" />
                                    </td>
                                </tr>
                                <tr class="govuk-table__row">
                                    <td class="govuk-table__header" scope="row">Approved by</td>
                                    <td class="govuk-table__cell ">
                                        <apex:repeat value="{!companyDirectors}" var="Director" id="theRepeat">
                                            <apex:outputText value="{!Director.Name}" id="theValue" />
                                            <br/>
                                        </apex:repeat>
                                    </td>
                                </tr>
                                <tr class="govuk-table__row">
                                    <td class="govuk-table__header" scope="row">Presenter details</td>
                                    <td class="govuk-table__cell ">{!presenterEmail}
                                        <br/>{!presenterName}
                                        <br/> {!presenterPhone}
                                    </td>
                                </tr>
                                <tr class="govuk-table__row">
                                    <td class="govuk-table__header" scope="row">Application</td>
                                    <td class="govuk-table__cell ">
                                        <section class="attachment embedded" id="attachment_1365490">
                                            <div style="display:{!IF(showDoc," block ","none ")};" >
                                                <p class="govuk-body">
                                                    <a class="govuk-link" target="_blank" href="/servlet/servlet.FileDownload?file={!attachmentId}" rel="external">{!title}</a> (PDF, {!size}B)
                                                </p>
                                            </div>
                                            <div style="display:{!IF(showDoc," none ","block ")};" >
                                                <p class="govuk-body">No Documents founds.
                                                </p>
                                            </div>
                                        </section>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <apex:outputPanel id="standardPanel-h2" rendered="{!displayText2}">
                            <h2 class="govuk-heading-m">{!displayText2}</h2>
                        </apex:outputPanel>
                        <p class="govuk-body">
                            {!displayText3}
                        </p>
                    </apex:outputPanel>

                    <apex:outputPanel id="innerCancelPanel" rendered="{!showCancelledShares}">
                        <apex:outputPanel id="customcancelPanel" rendered="{!showCancelledShares}">
                        <h2 class="govuk-heading-xl">Review your application</h2>
                        <p class="govuk-body-l">Please confirm that the information you've provided us for {!companyName} share capital is correct</p>
                            <div class="govuk-form-group">
                                <h2 class="heading-large">Shares cancelled</h2>
                                <p>Date of cancellation:
                                    <apex:repeat rows="1" value="{!sharesforCancelling}" var="date">
                                        <span class="govuk-heading-s">
                                            <apex:outputText value="{!date.Date__c}" id="cancelDate" />
                                        </span>
                                    </apex:repeat>
                                </p>
                                <table class="govuk-form-group">
                                    <thead class="govuk-table__head">
                                        <tr class="govuk-table__row">
                                            <th class="govuk-table__header" scope="col">Class of shares</th>
                                            <th class="govuk-table__header govuk-table__header--numeric" scope="col">Shares cancelled</th>
                                            <th class="govuk-table__header govuk-table__header--numeric" scope="col">Nominal value per share</th>
                                            <th class="govuk-table__header govuk-table__header--numeric"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="govuk-table__body">
                                        <apex:repeat value="{!sharesforCancelling}" var="CP">
                                            <tr class="govuk-table__row">
                                                <td class="govuk-table__cell ">
                                                    <apex:outputText value="{!CP.Class_of_Shares__c}" id="cancelclass" />
                                                </td>
                                                <td class="govuk-table__cell govuk-table__cell--numeric">
                                                    <apex:outputText value="{!CP.Number_of_Shares__c}" id="numcancelled" />
                                                </td>
                                                <td class="govuk-table__cell govuk-table__cell--numeric">
                                                    <apex:outputText value="{!CP.Aggregate_nominal_value__c}" id="nomvalue" />
                                                </td>
                                                <td class="govuk-table__cell govuk-table__cell--numeric">
                                                    <a class="govuk-link" href="">Change
                                                        <span class="visually-hidden">ordinary shares being cancelled</span>
                                                    </a>
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div>
                            <!--   <div class="form-group">
                                <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th colspan="4">{!reviewTitle}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="table-names">Class of shares</td>
                                            <td class="table-names">No. of shares</td>
                                            <td class="table-names">Aggregate nominal value</td>
                                            <td class="table-names">{!dateText}</td>
                                        </tr>
                                        <apex:repeat value="{!sharesforCancelling}" var="CP">
                                            <tr>
                                                <td>
                                                    <apex:outputText value="{!CP.Class_of_Shares__c}" id="cancelclass" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!CP.Number_of_Shares__c}" id="cancelnumberofshares" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!CP.Aggregate_nominal_value__c}" id="cancelcurrency" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!CP.Date__c}" id="cancelDate" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                        <apex:repeat value="{!sharesforEditing}" var="EP">
                                            <tr>
                                                <td>
                                                    <apex:outputText value="{!EP.Class_of_Shares__c}" id="editClas" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!EP.Number_of_Shares__c}" id="editnumberofshares" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!EP.Aggregate_nominal_value__c}" id="editCurrency" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!EP.Date__c}" id="editDate" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div> -->
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="CompanyObjects" rendered="{!showCC04}">
                        <h1 class="govuk-heading-xl">Company's objects</h1>
                        <div class="govuk-form-group">
                            <apex:repeat rows="1" value="{!cC04}" var="cObjects">
                                <fieldset>
                                    <h2 class="heading-medium">What changes are you making to the company objects?</h2>
                                    <apex:outputLabel styleClass="block-label" for="addobjects">
                                        <apex:inputCheckbox onclick="return false" id="addobjects" value="{!cObjects.addingObjects__c}" /> I'm adding to the objects
                                    </apex:outputLabel>
                                    <apex:outputLabel styleClass="block-label" for="removeObjects">
                                        <apex:inputCheckbox onclick="return false" id="removeObjects" value="{!cObjects.removeObjects__c}" /> I'm removing some of the objects
                                    </apex:outputLabel>
                                    <apex:outputLabel styleClass="block-label" for="alterObjects">
                                        <apex:inputCheckbox onclick="return false" id="alterObjects" value="{!cObjects.alterObjects__c}" /> I'm altering some of the objects
                                    </apex:outputLabel>
                                </fieldset>
                            </apex:repeat>
                        </div>
                    </apex:outputPanel>
                    <apex:outputPanel id="sh02" rendered="{!showSH02}">
                        <h2 class="govuk-heading-xl">Review your changes</h2>
                        <p class="govuk-body-l">Please confirm that the information you've provided us for {!companyName} share capital is correct</p>
                        <apex:outputPanel rendered="{!showSubdivision}" id="subdivision-BuildTable">
                            <div class="form-group">
                                <apex:repeat value="{!viewkeysSUB}" var="key">
                                    <h2 class="heading-large">{!viewkeysSUB[key]}</h2>
                                    <apex:repeat value="{!viewmapSH02[key]}" var="prp" rows="1">
                                        <p>Date of resolution:
                                            <span class="heading-small">
                                                <apex:outputText value="{!prp.Date__c}" id="SUBdate" />
                                            </span>
                                        </p>
                                    </apex:repeat>
                                    <div class='govuk-form-group'>
                                        <table class="check-your-answers">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Class of Shares</th>
                                                    <th scope="col" class="numeric">Previous number of shares</th>
                                                    <th scope="col" class="numeric">Previous nominal value</th>
                                                    <th scope="col" class="numeric">New number of shares</th>
                                                    <th scope="col" class="numeric">New nominal value</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!viewmapSUB[key]}" var="con">
                                                    <tr>
                                                        <td class="col">
                                                            <apex:outputText value="{!con.Name}" id="SUBClass" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.oldNumSharesIssued__c}" id="SUBoldissue" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.OldNominalValue__c}" id="SUBoldval" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.newNumSharesIssued__c}" id="SUBnewissue" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.NewNominalValu__c}" id="SUBnewval" />
                                                        </td>
                                                        <td class="numeric">
                                                            <a href='#' onclick="changeSH02('{!con.Id}')">Change</a>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                </apex:repeat>
                            </div>
                            <script>
                            function changeSH02() {
                                // call update method and set finished adding shares to false
                                deleteSH02Share();
                            }
                            </script>
                                <apex:actionFunction action="{!deleteSH02Share}" name="changeSH02" reRender="emptyPanel">
                                <apex:param name="changeValue" value="" id="SUBlmn" assignTo="{!shareID}" />
                            </apex:actionFunction>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!showConsolidation}" id="consolidation-BuildTable">
                            <div class="govuk-form-group">
                                <apex:repeat value="{!viewkeysSH02}" var="key">
                                    <h2 class="heading-large">{!viewkeysSH02[key]}</h2>
                                    <apex:repeat value="{!viewmapSH02[key]}" var="prp" rows="1">
                                        <p>Date of resolution:
                                            <span class="heading-small">
                                                <apex:outputText value="{!prp.Date__c}" id="date" />
                                            </span>
                                        </p>
                                    </apex:repeat>
                                    <div class='govuk-form-group'>
                                        <table class="check-your-answers">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Class of Shares</th>
                                                    <th scope="col" class="numeric">Previous number of shares</th>
                                                    <th scope="col" class="numeric">Previous nominal value</th>
                                                    <th scope="col" class="numeric">New number of shares</th>
                                                    <th scope="col" class="numeric">New nominal value</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!viewmapSH02[key]}" var="con">
                                                    <tr>
                                                        <td class="col">
                                                            <apex:outputText value="{!con.Name}" id="Class" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.oldNumSharesIssued__c}" id="oldissue" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.OldNominalValue__c}" id="oldval" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.newNumSharesIssued__c}" id="newissue" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.NewNominalValu__c}" id="newval" />
                                                        </td>
                                                        <td class="numeric">
                                                            <a href='#' onclick="changeSH02('{!con.Id}')">Change</a>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                </apex:repeat>
                            </div>
                            <script>
                            function changeSH02() {
                                // call update method and set finished adding shares to false
                                deleteSH02Share();
                            }
                            </script>
                            <apex:actionFunction action="{!deleteSH02Share}" name="changeSH02" reRender="emptyPanel">
                                <apex:param name="changeValue" value="" id="consolidationlmn" assignTo="{!shareID}" />
                            </apex:actionFunction>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!showRedemption}" id="redemption-BuildTable">
                                     <div class="govuk-form-group">
                                <apex:repeat value="{!viewkeysREd}" var="key">
                                    <h2 class="heading-large">{!viewkeysREd[key]}</h2>
                                    <apex:repeat value="{!viewmapSH02[key]}" var="prp" rows="1">
                                        <p>Date of resolution:
                                            <span class="heading-small">
                                                <apex:outputText value="{!prp.Date__c}" id="REddate" />
                                            </span>
                                        </p>
                                    </apex:repeat>
                                    <div class='govuk-form-group'>
                                        <table class="check-your-answers">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Class of Shares</th>
                                                    <th scope="col" class="numeric">Number of issued shares</th>
                                                    <th scope="col" class="numeric">Nominal value of each share</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!viewmapREd[key]}" var="con">
                                                    <tr>
                                                        <td class="col">
                                                            <apex:outputText value="{!con.Name}" id="REdClass" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.oldNumSharesIssued__c}" id="REdoldissue" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.OldNominalValue__c}" id="REdoldval" />
                                                        </td>
                                                        <td class="numeric">
                                                            <a href='#' onclick="changeSH02('{!con.Id}')">Change</a>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                </apex:repeat>
                            </div>
                            <script>
                            function changeSH02() {
                                // call update method and set finished adding shares to false
                                deleteSH02Share();
                            }
                            </script>
                         <apex:actionFunction action="{!deleteSH02Share}" name="changeSH02" reRender="emptyPanel">
                                <apex:param name="changeValue" value="" id="redlmn" assignTo="{!shareID}" />
                            </apex:actionFunction>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!showreConversion}" id="conversion-BuildTable">
                                     <div class="govuk-form-group">
                                <apex:repeat value="{!viewkeysCon}" var="key">
                                    <h2 class="heading-large">{!viewkeysCon[key]}</h2>
                                    <apex:repeat value="{!viewmapCon[key]}" var="prp" rows="1">
                                        <p>Date of resolution:
                                            <span class="heading-small">
                                                <apex:outputText value="{!prp.Date__c}" id="Condate" />
                                            </span>
                                        </p>
                                    </apex:repeat>
                                    <div class='govuk-form-group'>
                                        <table class="check-your-answers">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Class of Shares</th>
                                                    <th scope="col" class="numeric">Number of issued shares</th>
                                                    <th scope="col" class="numeric">Nominal value of each share</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!viewmapCon[key]}" var="con">
                                                    <tr>
                                                        <td class="col">
                                                            <apex:outputText value="{!con.Name}" id="ConClass" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.oldNumSharesIssued__c}" id="Conoldissue" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!con.OldNominalValue__c}" id="Conoldval" />
                                                        </td>
                                                        <td class="numeric">
                                                            <a href='#' onclick="changeSH02('{!con.Id}')">Change</a>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                </apex:repeat>
                            </div>
                            <script>
                            function changeSH02() {
                                // call update method and set finished adding shares to false
                                deleteSH02Share();
                            }
                            </script>
                            <apex:actionFunction action="{!deleteSH02Share}" name="changeSH02" reRender="emptyPanel">
                                <apex:param name="changeValue" value="" id="conversionlmn" assignTo="{!shareID}" />
                            </apex:actionFunction>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="customPanel" rendered="{!custompanelView}">
                        <apex:outputPanel id="show-statementPanel" rendered="{!showStatementofCapital}">
                            <div class="govuk-form-group">
                                <h2 class="heading-large">Updated share capital</h2>
                                <apex:repeat value="{!viewkeys}" var="key">
                                    <h2 class="heading-large">{!viewkeys[key]}</h2>
                                    <apex:repeat value="{!viewmap[key]}" var="prp" rows="1">
                                        <p>
                                            <apex:outputText value="{!prp.Prescribed_Particulars__c}" id="shareclass" />
                                        </p>
                                    </apex:repeat>
                                    <div class='govuk-form-group'>
                                        <table class="check-your-answers">
                                            <thead>
                                                <tr>
                                                    <th scope="col">Currency</th>
                                                    <th scope="col" class="numeric">Total number of shares</th>
                                                    <th scope="col" class="numeric">Aggregate nominal value</th>
                                                    <th scope="col" class="numeric">Total amount unpaid</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <apex:repeat value="{!viewmap[key]}" var="sp">
                                                    <tr>
                                                        <td class="col">
                                                            <apex:outputText value="{!sp.Currency__c}" id="currency" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!sp.Number_of_Shares__c}" id="shareclass" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!sp.Aggregate_nominal_value__c}" id="aggregate" />
                                                            <input type="hidden" value="{!sp.Aggregate_nominal_value__c}" name="numid" id="aggregateidentifier" />
                                                        </td>
                                                        <td class="numeric">
                                                            <apex:outputText value="{!sp.Total_aggregate_amount_unpaid__c}" id="amountUnpaidTotal" />
                                                        </td>
                                                        <!--
                                                      <td class="numeric">
                                                        <apex:outputText value="{!sp.Number_of_Shares__c}" id="numberofshares" />
                                                        <input type="hidden" value="{!sp.Number_of_Shares__c}" name="numid" id="shareidentifier" /> </td>
                                                        -->
                                                        <td class="numeric">
                                                            <a href='#' onclick='changeValue("{!sp.Id}")'>Change</a>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                                <!--
                                    <apex:outputPanel rendered="{!NOT(ISBLANK(viewmap[key]))}">
                                            <tr>
                                            <td></td>
                                            <td>Total</td>
                                            <td id="totalnumberofshares"></td>
                                            <td id="totalnumberaggregate"></td>
                                            <td>
                                            </td>
                                        </tr>


                                    </apex:outputPanel>
                                    -->
                                            </tbody>
                                        </table>
                                    </div>
                                </apex:repeat>
                            </div>
                            <script>
                            function changeValue() {
                                // call update method and set finished adding shares to false
                                deleteShare();
                            }
                            </script>
                            <apex:actionFunction action="{!deleteShare}" name="changeValue" reRender="emptyPanel">
                                <apex:param name="changeValue" value="" id="zzz" assignTo="{!shareID}" />
                            </apex:actionFunction>
                            <apex:outputPanel id="totalamountunpaid" rendered="{!showtotalunpaid}">
                                <div class="govuk-form-group">
                                    <h2 class="heading-large">Total amount unpaid</h2>
                                    <p>This is the total amount unpaid for each currency across all the classes of shares.</p>
                                    <table class="check-your-answers">
                                        <thead>
                                            <tr>
                                                <th scope="col">Currency</th>
                                                <th scope="col" class="numeric">Total amount unpaid</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <apex:repeat value="{!viewSHares}" var="Tau">
                                                <tr>
                                                    <td>
                                                        <apex:outputText value="{!Tau.Currency__c}" id="currency-unpaid" />
                                                    </td>
                                                    <td class="numeric">
                                                        <apex:outputText value="{!Tau.Total_aggregate_amount_unpaid__c}" id="aggamount-unpaid" />
                                                    </td>
                                                </tr>
                                            </apex:repeat>
                                        </tbody>
                                    </table>
                                </div>
                                <!--  <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th colspan="5">Statement of Capital</th>
                                        </tr>
                                    </thead>
                                    <apex:repeat value="{!viewkeys}" var="key">
                                        <thead>
                                            <tr>
                                                <th scope="col">Currency</th>
                                                <th scope="col" class="numeric">Class of shares</th>
                                                <th scope="col" class="numeric">No. of shares</th>
                                                <th scope="col" class="numeric">Total value aggregate</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <apex:repeat value="{!viewmap[key]}" var="sp">
                                                <tr>
                                                    <td class="col">
                                                        <apex:outputText value="{!sp.Currency__c}" id="currency" />
                                                    </td>
                                                    <td class="numeric">
                                                        <apex:outputText value="{!sp.Class_of_Shares__c}" id="shareclass" />
                                                    </td>
                                                    <td class="numeric">
                                                        <apex:outputText value="{!sp.Number_of_Shares__c}" id="numberofshares" />
                                                        <input type="hidden" value="{!sp.Number_of_Shares__c}" name="numid" id="shareidentifier" /> </td>
                                                    <td class="numeric">
                                                        <apex:outputText value="{!sp.Aggregate_nominal_value__c}" id="aggregate" />
                                                        <input type="hidden" value="{!sp.Aggregate_nominal_value__c}" name="numid" id="aggregateidentifier" />
                                                    </td>
                                                    <td class="numeric">
                                                        <a href='#' onclick='changeValue("{!sp.Id}")'>Change</a>
                                                    </td>
                                                </tr>
                                            </apex:repeat>
                                            
                                    <apex:outputPanel rendered="{!NOT(ISBLANK(viewmap[key]))}">
                                            <tr>
                                            <td></td>
                                            <td>Total</td>
                                            <td id="totalnumberofshares"></td>
                                            <td id="totalnumberaggregate"></td>
                                            <td>
                                            </td>
                                        </tr>


                                    </apex:outputPanel>
                                    
                                        </tbody>
                                    </apex:repeat>
                                    <br/>
                                    <br/>
                                </table> -->
                                <!--
                            <div class="form-group">
                                <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th colspan="4">Prescribed particulars</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <thead>
                                            <tr>
                                                <apex:outputPanel rendered="{!showCurrency}">
                                                    <th scope="col">Currency</th>
                                                </apex:outputPanel>
                                                <th scope="col" class="numeric">Class of shares</th>
                                                <th scope="col" class="numeric">Prescribed particulars rights</th>
                                            </tr>
                                        </thead>
                                        <br/>
                                        <apex:repeat value="{!sharesforBuilding}" var="sp" id="review-particulars">
                                            <tr>
                                                <apex:outputPanel rendered="{!showCurrency}">
                                                    <td class="col">
                                                        <apex:outputText value="{!sp.Currency__c}" id="particulars-currency" />
                                                    </td>
                                                </apex:outputPanel>
                                                <td class="numeric">
                                                    <apex:outputText value="{!sp.Class_of_Shares__c}" id="particulars-shareclass" />
                                                </td>
                                                <td class="numeric">
                                                    <apex:outputText value="{!sp.Prescribed_Particulars__c}" id="particulars" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div>-->
                                <br/>
                                <script>
                                // function numberofshares() {
                                //     var sharesum = 0;
                                //     var aggsum = 0;
                                //     var shareparsed = "";
                                //     var aggparsed = "";
                                //     var values = document.getElementsByTagName("input");
                                //     window.sharesvariable = values;
                                //     for (var i = 0; i < values.length; i++) {
                                //         if (values[i].id == "shareidentifier") {
                                //             shareparsed = values[i].value;
                                //             sharesum = sharesum + parseInt(shareparsed);
                                //         } else if (values[i].id == "aggregateidentifier") {
                                //             aggparsed = values[i].value;
                                //             aggsum = aggsum + parseInt(aggparsed);
                                //         }
                                //     }
                                //     document.getElementById("totalnumberofshares").innerHTML = sharesum;
                                //     document.getElementById("totalnumberaggregate").innerHTML = aggsum;
                                // }
                                // // numberofshares();
                                </script>
                                <br/>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="customPanel-particulars" rendered="{!custompanelView}">
                        <apex:outputPanel rendered="{!showParticulars}">
                            <div class="govuk-form-group">
                                <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th colspan="4">Prescribed particulars</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <apex:outputPanel rendered="{!showCurrency}">
                                                <td class="table-names">Currency</td>
                                            </apex:outputPanel>
                                            <td class="table-names">Class of shares</td>
                                            <td class="table-names">Prescribed particulars rights</td>
                                        </tr>
                                        <br/>
                                        <apex:repeat value="{!preParticulars}" var="sp" id="shareRepeat-particulars">
                                            <tr>
                                                <apex:outputPanel rendered="{!showCurrency}">
                                                    <td>
                                                        <apex:outputText value="{!sp.Currency__c}" id="particulars-currency" />
                                                    </td>
                                                </apex:outputPanel>
                                                <td>
                                                    <apex:outputText value="{!sp.Class_of_Shares__c}" id="particulars-shareclass" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!sp.Prescribed_Particulars__c}" id="particulars" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div>
                            <br/>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="customPanel-variationNotice" rendered="{!variationNotice}">
                        <h1 class="govuk-heading-xl">Review your variation of rights</h1>
                        <p class="govuk-body-l text">Please confirm that the information you have provided for {!CompanyName} share capital is correct.</p>
                        <h2 class="govuk-heading-l">Variation of rights</h2>
                        <apex:repeat value="{!variations}" var="sp" id="variations-particulars">
                            <p>Date of variation of rights:
                                <span class="heading-small">{!sp.Date__c}</span>
                            </p>
                            <div class="govuk-form-group ">
                                <label class="visually-hidden" for="">Details of variation of rights attached to shares</label>
                                <apex:inputTextArea readonly="true" richText="false" rows="8" cols="40" value="{!sp.varationField__c}" id="variationInfoId" />
                            </div>
                        </apex:repeat>
                    </apex:outputPanel>
                    <apex:outputPanel id="customPanel-attachments" rendered="{!custompanelView}">
                        <apex:outputPanel id="show-attachments" rendered="{!showAttachments}">
                            <!--  <div class="form-group">
                                <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th colspan="4">Supporting documents </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="table-names">Document</td>
                                            <td class="table-names">Description</td>
                                        </tr>
                                        <br/>
                                        <apex:repeat value="{!reviewAttachments}" var="sp" id="shareRepeat-attachments">
                                            <tr>
                                                <td>
                                                    <apex:outputText value="{!sp.Name}" id="attachments-name" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!sp.Description}" id="attachments-description" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div> -->
                            <div class="govuk-form-group">
                                <h2 class="govuk-heading-l">Supporting documents</h2>
                                <table class="govuk-table">
                                    <thead class="govuk-table__head">
                                        <tr class="govuk-table__row">
                                            <th class="govuk-table__header" scope="col">Document</th>
                                            <th class="govuk-table__header" scope="col">File name</th>
                                            <th class="govuk-table__header govuk-table__header--numeric"></th>
                                        </tr>
                                    </thead>
                                    <tbody class="govuk-table__body">
                                        <apex:repeat value="{!reviewAttachments}" var="sp" id="shareRepeat-attachments">
                                            <tr class="govuk-table__row">
                                                <td class="govuk-table__cell ">
                                                    <apex:outputText value="{!sp.Description}" id="attachments-description" />
                                                </td>
                                                <td class="govuk-table__cell ">
                                                  

                                                      <apex:outputText value="{!sp.Name}" id="attachments-name" />
                                                </td>
                                                <td class="govuk-table__cell govuk-table__cell--numeric">
                                                    <a class="govuk-link" href='#' onclick='changeAtt("{!sp.Id}", "{!sp.Name}")'>Change</a>


                                                    <!-- <apex:commandLink action="{!changeAttachments}" status="status" value="Change" /> -->
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div>
                             <apex:actionFunction action="{!changeAttachments}" name="changeAtt" reRender="emptyPanel">
                                <apex:param name="attIDVAL" value="" id="AttID" assignTo="{!attId}" />
                                <apex:param name="ATTNAMEVAL" value="" id="AttName" assignTo="{!attName}" />
                            </apex:actionFunction>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="sh08" rendered="{!custompanelView}">
                        <apex:outputPanel id="SH08Tables" rendered="{!showSh08}">
                            <h1 class="govuk-heading-xl">
                                TEST</h1>
                            <p class="govuk-body-l">{!displayText1}</p>
                            <h2 class="heading-large">{!headerText2}</h2>
                            <apex:repeat value="{!sh08Family}" rows="1" var="datevar" id="SH08-date">
                                <p>Date of assignment:
                                    <span class="heading-small">{!datevar.Date__c}</span>
                                </p>
                            </apex:repeat>
                            <div class="govuk-form-group">
                                <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th scope="col">Previous name</th>
                                            <th scope="col">New name</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <apex:repeat value="{!sh08Family}" var="sp" id="SH08-theRepeat">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <apex:outputText value="{!sp.Class_of_Shares__c}" id="oldshareclass" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!sp.Class_of_Share_new__c}" id="newshareclassnew" />
                                                </td>
                                                <td class='numeric'>
                                                    <a href='#' onclick='changeSH08("{!sp.Id}")'>Change</a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </apex:repeat>
                                </table>
                            </div>
                             <script>
                            function changeSH08() {
                                // call update method and set finished adding shares to false
                                removeSH08();
                            }
                            </script>
                            <apex:actionFunction action="{!removeSH08}" name="changeSH08" reRender="emptyPanel">
                                <apex:param name="changeSH08" value="" id="sh08remove" assignTo="{!shareID}" />
                            </apex:actionFunction>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <apex:outputPanel id="promoters" rendered="{!custompanelView}">
                        <apex:outputPanel rendered="{!showPromoters}" id="promoters-BuildTable">
                            <div class="govuk-form-group entire-wrapper">
                                <table class="check-your-answers">
                                    <thead>
                                        <tr>
                                            <th colspan="5"> Promoters</th>
                                            <br/>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Amount paid or intended to be paid</td>
                                            <td>Any benefit given or intended to be given</td>
                                            <td>Consideration for such payment or benefit</td>
                                        </tr>
                                        <br/>
                                        <apex:repeat value="{!promoters}" var="sp" id="promoters-theRepeat">
                                            <tr>
                                                <td>
                                                    <apex:outputText value="{!sp.amountPaidUp__c}" id="promoters-paidUPTable" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!sp.benefitGiven__c}" id="promoters-BenefitGivenTable" />
                                                </td>
                                                <td>
                                                    <apex:outputText value="{!sp.considerationGiven__c}" id="promoters-considerationGivenTable" />
                                                </td>
                                            </tr>
                                        </apex:repeat>
                                    </tbody>
                                </table>
                            </div>
                        </apex:outputPanel>
                        <apex:outputPanel rendered="{!custompanelView}">
                            <apex:outputPanel id="confirmation-statementPanel">
                                <div class="govuk-form-group {!showError}">
                                    <fieldset class="govuk-fieldset">
                                        <legend class="govuk-fieldset__legend">
                                            <span class="govuk-error-message" id='confirmation-errors'>{!currentErrorMessage}</span>
                                            <div class="govuk-checkboxes">
                                                <div class="govuk-checkboxes__item">
                                                    <apex:inputCheckbox styleClass="govuk-checkboxes__input" id="thecheckbox" required="true" value="{!confirmationVal}" />
                                                    <apex:outputLabel styleClass="govuk-label govuk-checkboxes__label" value="{!confirmationTextPanel}" for="thecheckbox"></apex:outputLabel>
                                                </div>
                                            </div>
                                        </legend>
                                    </fieldset>
                                </div>
                                <apex:actionFunction action="{!confirmReviewPage}" name="confirmReviewPage" reRender="emptyPanel">
                                    <apex:param name="confirmValue" value="" id="crp" assignTo="{!confirmationVal}" />
                                </apex:actionFunction>
                            </apex:outputPanel>
                        </apex:outputPanel>
                    </apex:outputPanel>
                    <div class='govuk-form-group'>
                        <apex:commandButton styleClass="govuk-button" action="{!nextAction}" value="{!continueButtonText}" />
                    </div>
                </apex:outputPanel>
            </apex:form>
        </apex:define>
    </apex:composition>
</apex:page>