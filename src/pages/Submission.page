<!-- 
Name: Submission.page
Copyright Â© 2016  Methods Digital
======================================================
======================================================
Purpose:
-------

Submission page - Legal requirement to allow users to 
submit a request 

======================================================
======================================================
History
------- 
Ver. Author         Date        Detail
1.0  Antonio Bravo  2016-05-27  Initial development.
-->
<apex:page cache="true" title="{!$Label.UI_Text_Confirmation_Page}" 
    showHeader="false" 
    sidebar="false" 
    standardStylesheets="false"
    controller="SubmissionController"
    action="{!initialiseAction}">
        
    <apex:composition template="TransactionPageTemplate">
       <apex:define name="content">
          <apex:form >
          <apex:outputPanel >
             <div >

                <h1 class="heading-xlarge">{!displayHeader}</h1>
                
                  <!-- <p>
                   {!displayText1}
                <strong class="heading-medium">{!submissionId}</strong>  
                </p>-->
             </div>
            <p class="lede">{!displayText1}</p>  
            <p>{!displayText2}</p>
             <apex:outputPanel >
                <table class="check-your-answers">
                    <tbody>
                        <tr>
                            <th>Company name</th>
                            <td>{!companyName}</td>
                        </tr>
                        <tr>
                            <th>Company number</th>
                            <td>{!companyNumber}</td>
                        </tr>
                        <tr>
                            <th>Registered Office Address</th>
                            <td>
                                <apex:outputText escape="false" value="{!companyAddress}" />
                            </td>
                        </tr>
                        <tr>
                            <th>Authorised by</th>
                            <td>
                                <apex:repeat value="{!companyDirectors}" var="Director" id="theRepeat">
                                    <apex:outputText value="{!Director.Name}" id="theValue" />
                                    <br/>
                                </apex:repeat>
                            </td>
                        </tr>
                    </tbody>
                </table>
              </apex:outputPanel>
              
             <p class="lede"></p>
            <apex:commandButton status="status" styleClass="button" value="{!$Label.UI_Text_Submit}" onclick="SubmitOnClick(this); return false;" rendered="{!NOT(isLastPage)}" />

            </apex:outputPanel>          
            <apex:actionFunction name="doSubmit" action="{!nextAction}" />
            </apex:form>
          
            <script language="Javascript">

            function SubmitOnClick (objSubmitBtn) {
              objSubmitBtn.disabled = true;
              objSubmitBtn.value ='Submitted';
              doSubmit();
            }

            // function disableBack() {
            //   window.history.forward();
            // }
            
            // window.onload = disableBack();

            </script>


          
       </apex:define>
    </apex:composition>

</apex:page>